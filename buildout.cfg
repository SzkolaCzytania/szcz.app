[buildout]
extensions = mr.developer
always-checkout = force
versions = versions
develop = src/
parts =
    debugsmtp
    pyramid
sources-dir = git_src
auto-checkout = *
always-accept-server-certificate = true

[sources]
velruse = git https://github.com/bbangert/velruse.git

[versions]

[pyramid]
# the eggs part will install all dependencies and setup our application in
# development mode
recipe = z3c.recipe.scripts
eggs = szcz

[debugsmtp]
# Run a simple smtp server on 8025 that echos incoming email
recipe = zc.recipe.egg
eggs = mr.hermes
entry-points = debugsmtp=runpy:run_module
scripts = debugsmtp
host = localhost
port = 8025
path = ${buildout:directory}/var/mails
initialization =
    import os
    os.environ.setdefault('DEBUG_SMTP_OUTPUT_PATH', '${:path}')
    sys.argv[1:] = ['-n', '-c', 'mr.hermes.DebuggingServer', '${:host}:${:port}']
arguments = 'smtpd', run_name='__main__', alter_sys=True
